(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}})();function y(r){var c;(c=document.querySelector(".player-list"))==null||c.remove();const a=document.createElement("ul");a.classList.add("player-list");for(const l in r){const t=r[l];if(l.includes("enemy")||t.every(o=>!o))continue;const n=document.createElement("div");n.classList.add("player-list-wrapper"),n.classList.add(`wrapper-${l}`);const s=document.createElement("h2");s.textContent=l.replace("ally","").replace("enemy",""),s.classList.add("players-title");const e=document.createElement("ul");e.classList.add("player-list-box"),t.forEach(o=>{const p=document.createElement("li");p.textContent=o,e.appendChild(p)}),n.appendChild(s),n.appendChild(e),a.appendChild(n)}document.body.appendChild(a)}function L(r,a,c){const l=document.createElement("div");l.classList.add("modal-container");const t=document.createElement("form");t.classList.add("modal-box");const n=document.createElement("button");n.classList.add("button-player-list"),n.type="submit",r.forEach((s,e)=>{const o=document.createElement("input");o.classList.add("input"),o.classList.add("input-modal"),o.value=s,o.addEventListener("input",()=>{c(o.value,e)}),t.appendChild(o)}),l.addEventListener("click",s=>{s.target.classList.contains("modal-container")&&(y(d.getPlayers()),l.remove())}),t.addEventListener("submit",s=>{s.preventDefault(),y(d.getPlayers()),l.remove()}),t.appendChild(n),l.appendChild(t),document.body.appendChild(l),document.querySelectorAll(".input-modal")[0].focus()}function m(r,a){if(!r){console.error("Element not found.");return}const c=r.textContent+a;let l,t,n,s;function e(i){var u;l=i.clientX,t=i.clientY,n=l-r.getBoundingClientRect().left,s=t-r.getBoundingClientRect().top,document.addEventListener("mousemove",o),document.addEventListener("mouseup",p),y(d.getPlayers()),(u=document.querySelector(`.wrapper-${c}`))==null||u.classList.add("focus")}function o(i){const u=i.clientX-n,f=i.clientY-s;r.style.left=u+"px",r.style.top=f+"px"}function p(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",p)}r.addEventListener("mousedown",e),a&&r.addEventListener("dblclick",()=>{const i=d.getPlayers();console.log("LOG:","currentPlayers",i),!i[c]&&d.setPlayers({...d.getPlayers(),[c]:["","","","",""]}),L((localStorage.getItem("players")?JSON.parse(localStorage.getItem("players")):{})[c],c,(u,f)=>{const g={...d.getPlayers()};g[c][f]=u,d.setPlayers(g)})}),r.style.position="absolute"}const E="/assets/Owl_Baron-C-pjrzB5.webp",h="/assets/goblin-CZjJaXfo.png";class b{setPlayers(a){localStorage.setItem("players",JSON.stringify(a))}getPlayers(){return localStorage.getItem("players")?JSON.parse(localStorage.getItem("players")):{}}}const d=new b,v=()=>{const r=document.querySelector(".button-add-ally"),a=document.querySelector(".button-add-enemy"),c=document.querySelector(".button-add-boss"),l=document.querySelector(".button-add-goblin"),t=document.querySelector(".battlefield");r.addEventListener("click",()=>{var o;const n=((o=document.querySelectorAll(".pt-al"))==null?void 0:o.length)+1,s=Math.random()*10,e=document.createElement("div");e.classList.add("pt"),e.classList.add("pt-al"),e.textContent=n,e.id=s,m(e,"ally"),t.appendChild(e)}),a.addEventListener("click",()=>{var o;const n=((o=document.querySelectorAll(".pt-en"))==null?void 0:o.length)+1,s=Math.random()*10,e=document.createElement("div");e.classList.add("pt"),e.classList.add("pt-en"),e.textContent=n,e.id=s,m(e,"enemy"),t.appendChild(e)}),c.addEventListener("click",()=>{var o;const n=((o=document.querySelectorAll(".pt-en"))==null?void 0:o.length)+1,s=Math.random()*10,e=document.createElement("img");e.src=`.${E}`,e.classList.add("boss"),e.textContent=n,e.id=s,m(e),t.appendChild(e)}),l.addEventListener("click",()=>{var o;const n=((o=document.querySelectorAll(".pt-en"))==null?void 0:o.length)+1,s=Math.random()*10,e=document.createElement("img");e.src=`.${h}`,e.classList.add("goblin"),e.textContent=n,e.id=s,m(e),t.appendChild(e)}),d.getPlayers()||d.setPlayers({}),y(d.getPlayers())};v();
